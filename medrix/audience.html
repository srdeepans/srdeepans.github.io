<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-geo@3.9.0/dist/chartjs-chart-geo.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <nav class="sidebar">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="dashboard.html"><i class="fas fa-home"></i> Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="audience.html"><i class="fas fa-users"></i> Audience</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-map-marker-alt"></i> Location</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-chart-line"></i> Engagement</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-mobile-alt"></i> Device</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fa fa-puzzle-piece"></i> Quiz & Leaderboard</a>
                </li>
            </ul>
        </nav>

        <div class="main-content">
            <header class="header">
                <h1>Audiences</h1>
                <div class="search-user">
                    <div class="search-wrapper">
                        <input type="text" class="search-input" placeholder="Search...">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                    <span class="user-info">Welcome User</span>
                    <div class="user-dropdown" onclick="drop_down()">
                        <i class="fas fa-user-circle user-icon"></i>
                        <i class="fa fa-angle-down user-expand" aria-hidden="true"></i>
                        <div class="dropdown-menu" style="display:none">
                            <a href="#" class="dropdown-item">Profile</a>
                            <a href="index.html" class="dropdown-item">Logout</a>
                        </div>
                    </div>
                </div>
            </header>

            <div class="chart-containerr">
                <div class="row">
                    <div class="row chart-map-title">
                        <h3 class="col-md-8">Audiences Metrics</h3>
                        <div class="col-md-4 month-drop">
                            <select id="month" name="months" class="select-month">
                                <option value="jan">This month</option>
                                <option value="jan">January 2024</option>
                                <option value="jan">January 2024</option>
                                <option value="jan">January 2024</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <canvas id="audienceChartPage" height="400"></canvas>
                </div>

            </div>

            <div class="small-spacer"> &nbsp; </div>

            <div class="chart-table-container row">
                <div class="col-md-6">
                    <div class="retention-card">
                        <div class="row chart-map-title">
                            <h3 class="col-md-8">Retention Rate</h3>
                            <div class="col-md-4 month-drop">
                                <select id="month" name="months" class="select-month">
                                    <option value="jan">This month</option>
                                    <option value="jan">January 2024</option>
                                    <option value="jan">January 2024</option>
                                    <option value="jan">January 2024</option>
                                </select>
                            </div>
                        </div>
                        <div class="">
                            <canvas id="retentionChart" height="400"></canvas>
                        </div>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="row chart-map-title retention-card">
                        <h3 class="col-md-6">Registration Data</h3>
                        <div class="col-md-6 month-drop">
                            <select id="month" name="months" class="select-month">
                                <option value="jan">January 2024</option>
                                <option value="jan">January 2024</option>
                                <option value="jan">January 2024</option>
                                <option value="jan">January 2024</option>
                            </select>
                        </div>
                        <div class="visited-table">
                            <table class="table">
                                <thead class="">
                                    <tr>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>City</th>
                                        <th>Date</th>
                                    </tr>
                                </thead>
                                <tbody class="t-data">
                                    <tr>
                                        <td>Alex</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Ashiya Ja</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Katherine Bo</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Luisi Ri</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Ashiya Ja</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Katherine Bo</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Luisi Ri</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Ashiya Ja</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Katherine Bo</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Luisi Ri</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Ashiya Ja</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Katherine Bo</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Luisi Ri</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Ashiya Ja</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                    <tr>
                                        <td>Katherine Bo</td>
                                        <td>Roher Training</td>
                                        <td>No City</td>
                                        <td>04/26/2024</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
    <script src="js/scripts.js"></script>
    <script>
        function drop_down() {
            const menu = document.querySelector('.dropdown-menu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        var ctx = document.getElementById('audienceChartPage').getContext('2d');
        var audienceChartPage = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Mar 1', 'Mar 2', 'Mar 3', 'Mar 4', 'Mar 5', 'Mar 6', 'Mar 7', 'Mar 8', 'Mar 9', 'Mar 10', 'Mar 11', 'Mar 12', 'Mar 13', 'Mar 14', 'Mar 15', 'Mar 16', 'Mar 17', 'Mar 18', 'Mar 19', 'Mar 20', 'Mar 21', 'Mar 22', 'Mar 23', 'Mar 24', 'Mar 25', 'Mar 26', 'Mar 27', 'Mar 28', 'Mar 29', 'Mar 30', 'Mar 31'],
                datasets: [
                    {
                        label: 'Dataset 1',
                        data: [24, 20, 1, -7, 32, 10, 37, 10, 36, 34, 0, 7, 31, 5, 37, 1, 0, 25, 0, 0, 15, 0, 0, 15, 20, 30, 25, 40, 10, 15],
                        borderColor: '#e0bdaa',
                        backgroundColor: 'e0bdaa',
                        pointBackgroundColor: '#e0bdaa',
                        pointBorderColor: '#e0bdaa',
                        pointRadius: 5,
                        pointHoverRadius: 7,
                        tooltip: {
                            enabled: true,
                            backgroundColor: '#e0bdaa',
                            titleFont: {
                                size: 14,
                                weight: 'bold'
                            },
                            bodyFont: {
                                size: 12
                            },
                            callbacks: {
                                label: function (tooltipItem) {
                                    return tooltipItem.raw;
                                }
                            }
                        },
                    },
                    {
                        label: 'Dataset 2',
                        data: [10, 25, 24, 9, 0, 14, 0, 42, 40, 8, 15, 19, 20, 24, 15, 38, 6, 38, 20, 20, 6, 5, 9, 5, 10, 20, 12, 28, 14, 19],
                        borderColor: '#333333',
                        backgroundColor: '#000000',
                        pointBackgroundColor: '#333333',
                        pointBorderColor: '#333333',
                        pointRadius: 5,
                        pointHoverRadius: 7,
                        tooltip: {
                            enabled: true,
                            backgroundColor: '#000000',
                            titleFont: {
                                size: 14,
                                weight: 'bold'
                            },
                            bodyFont: {
                                size: 12
                            },
                            callbacks: {
                                label: function (tooltipItem) {
                                    return tooltipItem.raw;
                                }
                            }
                        },
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            maxRotation: 0,
                            minRotation: 0
                        }
                    },
                    y: {
                        grid: {
                            color: '#e0e0e0',
                            drawBorder: false,
                            drawOnChartArea: true,
                            drawTicks: false,
                        },
                        beginAtZero: true,
                        max: 50
                    }
                }
            }
        });


        var retentionCtx = document.getElementById('retentionChart').getContext('2d');
        var retentionChart = new Chart(retentionCtx, {
            type: 'bar',
            data: {
                labels: ['', ''],
                datasets: [
                    {
                        label: 'Retention in %',
                        data: [5, 4],
                        backgroundColor: '#bf8677',
                        borderColor: '#bf8677',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top'
                    },
                    tooltip: {
                        enabled: true,
                        callbacks: {
                            label: function (tooltipItem) {
                                return tooltipItem.dataset.label + ': ' + tooltipItem.raw;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: ''
                        }
                    },
                    y: {
                        grid: {
                            color: '#e0e0e0',
                            drawBorder: false,
                            drawOnChartArea: true,
                            drawTicks: false
                        },
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: ''
                        },
                        ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });
    </script>
</body>

</html>